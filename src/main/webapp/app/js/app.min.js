"use strict";angular.module("app",["ngRoute","ngCookies","app.services","app.controlles","app.directives.validation","app.directives.autocomplete","app.directives.autofocus","app.directives.modal","app.directives.editor","app.directives.autoclick","app.directives.uniqueEmail","app.directives.pagination","app.directives.navigationBar","app.directives.switchCheckbox","ngMap","ui.bootstrap"]).config(["$routeProvider","$locationProvider","$httpProvider",function(b,a,c){b.when("/main",{templateUrl:"partials/main.html",controller:"MainController"}).when("/new",{templateUrl:"partials/advert-create.html",controller:"AdvertCreateController"}).when("/search",{templateUrl:"partials/all-advert-view.html",controller:"AllAdvertView"}).when("/users/:id",{templateUrl:"partials/user-account.html",controller:"UserAccountController",resolve:{user:function(e,d){return e.get({id:d.current.params.id})}}}).when("/adverts/:id",{templateUrl:"partials/advert-view.html",controller:"AdvertViewController",resolve:{advert:function(d,e){return d.get({id:e.current.params.id})}}}).otherwise({redirectTo:"main"});c.interceptors.push(["$q","$rootScope","$location",function(e,d,f){return{responseError:function(g){var h=g.status;var j=g.config;var k=j.method;var i=j.url;if(h==401){f.path("/main")}else{d.error=k+" on "+i+" failed with status "+h}return e.reject(g)}}}]);c.interceptors.push(["$q","$rootScope",function(e,d){return{request:function(g){var f=g.url.indexOf("api")==0;if(f&&angular.isDefined(d.authToken)){var h=d.authToken;if(exampleAppConfig.useAuthTokenHeader){g.headers["X-Auth-Token"]=h}else{g.url=g.url+"?token="+h}}return g||e.when(g)}}}])}]).run(["$rootScope","$location","$cookieStore","LoginService",function(a,f,e,b){a.dateOptions={formatYear:"yy",startingDay:1};a.formats=["dd-MMMM-yyyy","yyyy/MM/dd","dd.MM.yyyy","shortDate"];a.format=a.formats[0];a.$on("$viewContentLoaded",function(){delete a.error;scrollTop()});a.hasRole=function(g){if(a.user===undefined){return false}if(a.user.roles[g]===undefined){return false}return a.user.roles[g]};a.logout=function(){delete a.user;delete a.authToken;e.remove("authToken");f.path("/main")};var d=f.path();f.path("/main");var c=e.get("authToken");if(c!==undefined){a.authToken=c;b.getLogged(function(g){a.user=g;f.path(d)})}a.initialized=true}]);